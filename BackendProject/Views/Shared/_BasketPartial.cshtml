@model BasketViewModel

<div class="minicart-close">
    <i class="ion-android-close"></i>
</div>
<div class="minicart-content-box">
    <div class="minicart-item-wrapper">
        @foreach (var item in Model.basketItems)
        {
            <ul>
                <li class="minicart-item">
                    <div class="minicart-thumb">
                        <a href="product-details.html">
                            <img width="100" height="100" src="~/Manage/Uploads/Products/@item.Product.Images.FirstOrDefault(x=>x.ImageStatus==true).ImageName" alt="product" />
                        </a>
                    </div>
                    <div class="minicart-content">
                        <h3 class="product-name">
                            <a href="product-details.html">@item.Product.Name</a>
                        </h3>
                        <p>
                            <span class="cart-quantity">@item.Count<strong>&times;</strong></span>
                            <span class="cart-price">$@((item.Product.DiscountedPrice > 0 ? item.Product.DiscountedPrice : item.Product.SalePrice) * item.Count)</span>
                        </p>




                        <p>
                            <span>Total price</span>
                            <span><strong>$@((item.Product.DiscountedPrice > 0 ? item.Product.DiscountedPrice : item.Product.SalePrice) * item.Count)</strong></span>
                        </p>
                    </div>
                    <div class="minicart-pricing-box">
                        <a asp-action="removefrombasket" asp-controller="home" asp-route-id="@item.Product.Id" class="minicart-remove remove-btn">
                            <i class="ion-android-close"></i>
                        </a>
                    </div>
                </li>
            </ul>
        }
        <ul>
            <li class="total">
                <span>Total Amount</span>
                <span><strong>$@Model.TotalAmount</strong></span>
            </li>
        </ul>
    </div>

    <div class="minicart-button">
        <a asp-action="index" asp-controller="basket" asp-route-id="id"><i class="fa fa-shopping-cart"></i> view cart</a>
    </div>
</div>